# 股票市场数据分析系统

## 项目概述
本项目是一个专业的股票市场数据分析工具，采用模块化设计，实现了数据收集、相关性分析、聚类分析等功能。系统具有高扩展性和可维护性，支持多维度的股票市场分析。

## 核心功能

### 1. 数据采集与预处理
- 基于Tushare API的数据采集
- 自动数据清洗和标准化
- 本地数据缓存机制
- 智能错误处理和重试机制

### 2. 相关性分析
- 股票收益率相关性计算
- 动态滚动相关性分析
- 相关性热图可视化
- 板块内部相关性分析

### 3. 聚类分析
- K-means聚类算法
- 最优聚类数自动确定
- 聚类结果可视化
- 轮廓系数评估

### 4. 时间窗口分析
- 滚动时间窗口分析
- 波动率计算与分析
- 量价关系研究
- 趋势识别

## 技术架构

### 1. 模块化设计
系统采用分层设计，分为以下核心模块：
- `data_collector.py`: 数据收集模块
  - 股票搜索和选择
  - 数据下载和缓存
  - 技术指标计算

- `base_analyzer.py`: 基础分析器
  - 数据预处理
  - 日期处理
  - 收益率计算
  
- `time_window_analyzer.py`: 时间窗口分析
  - 滚动相关系数计算
  - 波动性分析
  - 量价相关性分析

- `visualizer.py`: 可视化工具
  - 相关系数图表
  - 波动率图表
  - 量价关系图表

### 2. 数据流程
1. **数据收集**
   - 支持股票名称和代码搜索
   - 模糊匹配和多选项选择
   - 本地数据缓存机制
   - 自动重试和错误处理

2. **数据预处理**
   - 日期索引处理
   - 技术指标计算
   - 数据有效性验证

3. **分析流程**
   - 基于时间窗口的动态分析
   - 多维度相关性研究
   - 波动特征识别

### 3. 设计特点
- **高内聚**：每个模块职责单一，功能紧密相关
- **低耦合**：模块间通过清晰的接口交互
- **可扩展**：易于添加新的分析功能
- **可维护**：代码结构清晰，易于理解和修改

## 功能特点

### 1. 数据收集
- 支持模糊搜索股票
- 显示股票行业信息
- 支持股票代码直接输入
- 本地缓存优化性能
- 自动重试失败操作

### 2. 日期处��
- 支持多种日期输入格式
- 相对日期计算（如：-30天）
- 今天日期快捷输入
- 日期有效性验证

### 3. 技术指标
- 移动平均线（MA5/10/20/30）
- 成交量加权平均价格（VWAP）
- 支持自定义指标扩展

### 4. 分析功能
- 滚动时间窗口分析
- 波动性分析
- 交易量相关性
- 板块联动分析

## 项目结构
